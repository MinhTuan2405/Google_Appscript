<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Folder Pattern Creator</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 13px;
    margin: 0;
    padding: 12px;
    background: #f5f5f7;
    color: #202124;
    overflow-y: auto;
  }

  h3 {
    font-size: 17px;
    font-weight: 600;
    margin-bottom: 12px;
  }

  .top-buttons {
    display: flex;
    gap: 6px;
    margin-bottom: 10px;
    flex-wrap: wrap;
    align-items: center;
  }

  select {
    font-size: 13px;
    padding: 4px 6px;
    border-radius: 4px;
    border: 1px solid #dadce0;
    background: #fff;
  }

  .top-buttons button {
    background: #ffffff;
    border: 1px solid #dadce0;
    padding: 5px 10px;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer;
    transition: background 0.2s, border-color 0.2s;
  }

  .top-buttons button:hover {
    background: #e8f0fe;
    border-color: #1a73e8;
  }

  .folder {
    position: relative;
    padding: 4px 8px;
    margin: 2px 0;
    border-radius: 6px;
    background: #ffffff;
    transition: background 0.2s;
  }

  .folder:hover {
    background: #e8f0fe;
  }

  .folder-left {
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .folder-actions {
    margin-left: auto;
    display: flex;
    gap: 4px;
  }

  .folder-actions button {
    border: none;
    background: transparent;
    color: #5f6368;
    cursor: pointer;
    padding: 2px 4px;
    font-size: 12px;
    transition: color 0.2s;
  }

  .folder-actions button:hover {
    color: #1a73e8;
  }

  input {
    font-size: 13px;
    padding: 2px 4px;
    border: 1px solid #dadce0;
    border-radius: 4px;
    outline: none;
    background: transparent;
    transition: border-color 0.2s;
  }

  input:focus {
    border-color: #1a73e8;
  }

  .subfolders {
    margin-left: 20px;
    position: relative;
  }

  .subfolders::before {
    content: '';
    position: absolute;
    top: 0;
    left: 10px;
    width: 1px;
    height: 100%;
    background: #cfd8dc;
  }

  .subfolders .folder::before {
    content: '';
    position: absolute;
    top: 12px;
    left: -10px;
    width: 10px;
    height: 1px;
    background: #cfd8dc;
  }

  #patternResult {
    white-space: pre;
    background: #ffffff;
    color: #202124;
    padding: 10px;
    margin-top: 12px;
    border-radius: 6px;
    font-family: monospace;
    font-size: 12px;
    max-height: 220px;
    overflow-y: auto;
    box-shadow: inset 0 0 4px rgba(60,64,67,0.1);
  }

  #resultMenu {
    margin-top: 12px;
  }

  #resultMenu button {
    background: #1a73e8;
    color: #fff;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
  }

  #resultMenu button:hover {
    background: #1558b0;
    transform: translateY(-1px);
  }

  #resultMenu button:active {
    transform: translateY(0);
    background: #0d3f7a;
  }

</style>
</head>
<body>
  <div class="top-buttons">
    <select id="classSelect">
      <option value="">Loading...</option>
    </select>
    <button onclick="addFolder(null)">+ Root</button>
    <button onclick="showPattern()">Preview</button>
  </div>

  <div id="rootsContainer"></div>
  <div id="patternResult"></div>

  <div id="resultMenu">
    <button onclick="generatePattern ()">Generate</button>
  </div>

  <script>
    const rootsContainer = document.getElementById('rootsContainer');
    const classSelect = document.getElementById('classSelect');

    function renderClassDropdown() {
        classList = ['classA', 'classB', 'classC']
        classSelect.innerHTML = '<option value="">Select Class</option>';
        classList.forEach(cls => {
          const option = document.createElement('option');
          option.value = cls;
          option.textContent = cls;
          classSelect.appendChild(option);
        });
    }

    renderClassDropdown();

    function addFolder(container) {
      const folderDiv = document.createElement('div');
      folderDiv.className = 'folder';

      folderDiv.innerHTML = `
        <div class="folder-left">
          <span>üìÅ</span>
          <input type="text" placeholder="Folder Name">
        </div>
        <div class="folder-actions">
          <button onclick="addChild(this)">+ Sub</button>
          <button onclick="addSibling(this)">+ Sib</button>
          <button onclick="deleteFolder(this)">‚ùå</button>
        </div>
        <div class="subfolders"></div>
      `;

      if (!container) {
        rootsContainer.appendChild(folderDiv);
      } else {
        container.appendChild(folderDiv);
      }
    }

    function addChild(btn) {
      const currentFolder = btn.closest('.folder');
      const subContainer = currentFolder.querySelector('.subfolders');
      addFolder(subContainer);
    }

    function addSibling(btn) {
      const currentFolder = btn.closest('.folder');
      const parentContainer = currentFolder.parentElement;
      addFolder(parentContainer);
    }

    function deleteFolder(btn) {
      const folder = btn.closest('.folder');
      folder.remove();
    }

    function collectFolders(container) {
      const folders = [];
      const divs = container.querySelectorAll(':scope > .folder');
      divs.forEach(div => {
        const name = div.querySelector('input').value.trim();
        const children = collectFolders(div.querySelector('.subfolders'));
        if(name || children.length > 0) {
          folders.push({name, children});
        }
      });
      return folders;
    }

    function formatPattern(folders, prefix = '') {
      let text = '';
      folders.forEach((f, index) => {
        const isLast = index === folders.length - 1;
        const branch = prefix + (isLast ? '‚îî‚îÄ ' : '‚îú‚îÄ ');
        text += f.name ? branch + f.name + '\n' : '';
        if(f.children.length > 0) {
          const newPrefix = prefix + (isLast ? '   ' : '‚îÇ  ');
          text += formatPattern(f.children, newPrefix);
        }
      });
      return text;
    }

    function showPattern() {
      const selectedClass = classSelect.value;
      if(!selectedClass) {
        return;
      }
      const folders = collectFolders(rootsContainer);
      let patternText = `Class: ${selectedClass}\n`;
      patternText += formatPattern(folders) || 'No folders defined.';
      document.getElementById('patternResult').innerText = patternText;
    }

    function generatePattern () {
        const classname = document.getElementById ('classSelect').value
        console.log (classname)
    }
  </script>
</body>
</html>
